\usepackage[italian]{babel}
\usepackage[utf8]{inputenc}	% Para caracteres en espa√±ol
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}
\usepackage{multirow,booktabs}
\usepackage[table]{xcolor}
\usepackage{fullpage}
\usepackage{lastpage}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{mathrsfs}
\usepackage{wrapfig}
\usepackage{graphicx}
\graphicspath{ {./images/} }
\usepackage{setspace}
\usepackage{calc}
\usepackage{multicol}
\usepackage{bookmark}
\usepackage[normalem]{ulem}
\usepackage{cancel}
\usepackage[margin=3cm]{geometry}
\usepackage{amsmath}
\newlength{\tabcont}
\setlength{\parindent}{0.0in}
\setlength{\parskip}{0.05in}
\usepackage{empheq}
\usepackage{framed}
\usepackage[most]{tcolorbox}
\usepackage{xcolor}
\usepackage{FiraSans}
\usepackage{esint}
\usepackage{listings}
\usetikzlibrary{shadings,intersections,calc,trees,positioning,arrows,fit,shapes}
\usepackage{centernot}

\usepackage{import}
\usepackage{pdfpages}
\usepackage{transparent}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}


\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\usepackage{subfiles}

\geometry{margin=1in, headsep=0.25in}
\setcounter{secnumdepth}{0}

\newlength{\totbarheight}

\newlength{\bardepth}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theorem, Corollari ecc.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mdfsetup{skipabove=\topskip,skipbelow=\topskip}
%%% upto here
\newcounter{theo}[section]
\newenvironment{theo}[1][]{%
\stepcounter{theo}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Teorema~\thetheo};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Teorema~\thetheo:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{lemm}[section]
\newenvironment{lemm}[1][]{%
\stepcounter{lemm}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Lemma~\thelemm};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Lemma~\thelemm:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}


\newcounter{corollario}[section]
\newenvironment{corollario}[1][]{%
\stepcounter{corollario}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Corollario~\thecorollario};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Corollario~\thecorollario:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{definizione}[section]
\newenvironment{definizione}[1][]{%
\stepcounter{definizione}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Definizione~\thedefinizione};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Definizione:~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{propo}[section]
\newenvironment{propo}[1][]{%
\stepcounter{propo}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Proposizione~\thepropo};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Proposizione~\thepropo~ - #1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

\newcounter{ese}[section]
\newenvironment{ese}[1][]{%
\stepcounter{ese}%
\ifstrempty{#1}%
 {\mdfsetup{%
   frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!20]
         {\strut Esempio~\theese};}}
 }%
{\mdfsetup{%
  frametitle={%
   \tikz[baseline=(current bounding box.east),outer sep=0pt]
   \node[anchor=east,rectangle,fill=blue!20]
        {\strut Esempio~\theese~#1};}}%
 }%
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,%
       linewidth=2pt,topline=true,
       frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax%
}
{\end{mdframed}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SELF MADE COMMANDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\newcommand*\Eval[3]{\left.#1\right\rvert_{#2}^{#3}}
\newcommand{\teorema}[2]{\begin{theo}[#1]{}{}#2\end{theo}}
\newcommand{\cor}[2]{\begin{corollario}[#1]{}{}#2\end{corollario}}
\newcommand{\lemma}[2]{\begin{lem}[#1]{}{}#2\end{lem}}
\newcommand{\proposizione}[2]{\begin{propo}[#1]{}{}#2\end{propo}}
% \newcommand{\mprop}[2]{\begin{Prop}{#1}{}#2\end{Prop}}
% \newcommand{\clm}[3]{\begin{claim}{#1}{#2}#3\end{claim}}
% \newcommand{\wc}[2]{\begin{wconc}{#1}{}\setlength{\parindent}{1cm}#2\end{wconc}}
% \newcommand{\thmcon}[1]{\begin{Theoremcon}{#1}\end{Theoremcon}}
% \newcommand{\ex}[2]{\begin{Example}{#1}{}#2\end{Example}}
\newcommand{\defn}[2]{\begin{definizione}[#1]{}{}#2\end{definizione}}
\newcommand{\esempio}[2]{\begin{ese}[#1]{}{}#2\end{ese}}
% \newcommand{\dfnc}[2]{\begin{definition}[colbacktitle=red!75!black]{#1}{}#2\end{definition}}
% \newcommand{\qs}[2]{\begin{question}{#1}{}#2\end{question}}
% \newcommand{\pf}[2]{\begin{myproof}[#1]#2\end{myproof}}
% \newcommand{\nt}[1]{\begin{note}#1\end{note}}


\newcommand{\incfig}[2][1]{%
    \def\svgwidth{#1\columnwidth}
    \import{\subfix{./figures/}}{#2.pdf_tex}
}


\newcommand\DrawBlock[3]{
\ifx#1b\relax
  \path[draw]
    (lm\the\numexpr#2-1\relax) -- ++(0,0,#3) coordinate (blocklf)
    (bm\the\numexpr#2-1\relax) -- ++(0,0,#3) coordinate (blocklb)
    (lm#2) -- ++(0,0,#3) coordinate (blockrf)
    (bm#2) -- ++(0,0,#3) coordinate (blockrb);
  \filldraw[fill=white,draw=black]
    (lm\the\numexpr#2-1\relax) -- (blocklf) -- (blocklb) -- (blockrb) -- (blockrf) -- (lm#2);
\else  
  \ifx#1f\relax
    \path[draw]
      (fm\the\numexpr#2-1\relax) -- ++(0,0,#3) coordinate (blocklf)
      (lm\the\numexpr#2-1\relax) -- ++(0,0,#3) coordinate (blocklb)
      (fm#2) -- ++(0,0,#3) coordinate (blockrf)
      (lm#2) -- ++(0,0,#3) coordinate (blockrb);
    \filldraw[fill=white,draw=black]
      (fm\the\numexpr#2-1\relax) -- (blocklf) -- (blocklb) -- (blockrb) -- (blockrf) -- (fm#2);
  \fi
\fi
\draw (blocklf) -- (blockrf);
}

\pdfsuppresswarningpagegroup=1
